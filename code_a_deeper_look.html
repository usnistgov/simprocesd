<!-- Extend the theme's layout by adding scripts and links required by NIST policy.
layout.html for 'sphinx_rtd_theme' can be found here: https://github.com/readthedocs/sphinx_rtd_theme/blob/master/sphinx_rtd_theme/layout.html
-->

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Code, a Deeper Look &mdash; SimPROCESD 0.3.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />    
	<!-- Default Google Analytics script. -->
	<script async type="text/javascript" id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=NIST&subagency=github&pua=UA-66610693-1&yt=true&exts=ppsx,pps,f90,sch,rtf,wrl,txz,m1v,xlsm,msi,xsd,f,tif,eps,mpg,xml,pl,xlt,c">
</script>

	<!-- leave notice that is to be used when opening external link. -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
	<script type="text/javascript" src="https://pages.nist.gov/leaveNotice/js/jquery.leaveNotice-nist.min.js" defer="defer"></script>
	<script type="text/javascript">
		$(document).ready(function() {
		  // Regex if the adress starts with https and ends with nist.gov
		  var re_nist = new RegExp('^https?:\/\/((^\/)*\.)*nist\\.gov(\/|$)'); 
		  // Regex if the  address starts with https
		  var re_absolute_address = new RegExp('^((https?:)?\/\/)');
		  // Run for each link.
		  $("a").each(function() {
			var url=$(this).attr('href'); 
			// If absolute address and not an absolute nist address then mark as external.
			if (re_absolute_address.test(url) && !re_nist.test(url)) {
			  $(this).addClass('external-link-tag');
			}
		  });
		  // Add leaveNotice to external A elements 
		  $('a.external-link-tag').leaveNotice({
			siteName: 'SimPROCESD Documentation',
            exitMessage: "<h2><strong>Thank you for visiting {SITENAME}.</strong></h2><p>You are being redirected to an external site. NIST does not necessarily endorse the views expressed or the facts presented on this site. Further, NIST does not endorse any commercial products that may be advertised or available on this site.</p>",
		  });
		});
	</script>
	
	
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=e259d695"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
	
	<!-- leave notice that is to be used when opening external link. -->
	<link rel="stylesheet" type="text/css" href="https://pages.nist.gov/leaveNotice/css/jquery.leaveNotice.css" />
	
	
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Code Introduction" href="code_introduction.html" />
 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SimPROCESD
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About SimPROCESD</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_introduction.html">Code Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Code, a Deeper Look</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#asset">Asset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-diagram">Class Diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="#discrete-event-simulator">Discrete Event Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#group-class">Group Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/usnistgov/simprocesd">    GitHub Page [External link]</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_docs/simprocesd.html">simprocesd package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SimPROCESD</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Code, a Deeper Look</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/code_a_deeper_look.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="code-a-deeper-look">
<h1>Code, a Deeper Look<a class="headerlink" href="#code-a-deeper-look" title="Link to this heading"></a></h1>
<p>This page provides a closer look at some of the components and systems in SimPROCESD.</p>
<section id="asset">
<h2>Asset<a class="headerlink" href="#asset" title="Link to this heading"></a></h2>
<p>Asset is a parent class to most of the SimPROCESD classes and is generally not used by itself; like an abstract class.<br />
Asset provides a few features to all of its child classes:</p>
<ul class="simple">
<li><p>Name tracking and name generation if no name is provided.</p></li>
<li><p>Assignment of a unique ID.</p></li>
<li><p>Registering self with the System.</p></li>
<li><p>Keeping a reference to the Environment object which can be used for checking simulation time,
scheduling events, and more.</p></li>
<li><p>Value tracking and a record of asset’s value changes.</p></li>
</ul>
</section>
<section id="class-diagram">
<h2>Class Diagram<a class="headerlink" href="#class-diagram" title="Link to this heading"></a></h2>
<p>Class diagram (UML style) that shows relationships between classes and some of the prominent properties and functions of each class.</p>
<a class="reference internal image-reference" href="_images/class_diagram.jpeg"><img alt="class_diagram.jpg" src="_images/class_diagram.jpeg" style="width: 400px;" /></a>
<p>The diagram shows that <strong>PartProcessor</strong> is a child of the <strong>PartHandler</strong> class, which is a child of the <strong>PartFlowController</strong> class, which is a child of the <strong>Asset</strong> class. Functionality of <strong>PartProcessor</strong> is split in the following way:</p>
<ul class="simple">
<li><p><strong>Asset</strong>: track name, id, and value.</p></li>
<li><p><strong>PartFlowController</strong>: relay parts from upstream to downstream.</p></li>
<li><p><strong>PartHandler</strong>: retain parts received from upstream for a specified period before passing them downstream.</p></li>
<li><p><strong>PartProcessor</strong>: hooks for processing received parts, a way to shutdown/restore itself, and support for maintenance to be performed on it.</p></li>
</ul>
</section>
<section id="discrete-event-simulator">
<h2>Discrete Event Simulator<a class="headerlink" href="#discrete-event-simulator" title="Link to this heading"></a></h2>
<p>SimPROCESD is a discrete event simulator, it is driven by events. Initial events are created during
initialization of the simulated objects and additional events are generated in the process of
executing scheduled events.</p>
<p>Multiple events can be scheduled to happen at the exact same time in which case they are
executed in order of <a class="reference external" href="https://github.com/usnistgov/simprocesd/blob/master/simprocesd/model/simulation.py#L11"><code class="docutils literal notranslate"><span class="pre">EventType</span></code> priority</a>
(represented by a number).</p>
<p>Example of how PartHandler schedules an event for when it should finish processing a part:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">schedule_event</span><span class="p">(</span>                <span class="c1"># Environment.schedule_event(...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_env</span><span class="o">.</span><span class="n">now</span> <span class="o">+</span> <span class="n">next_cycle_time</span><span class="p">,</span>    <span class="c1"># Simulation time when the event should execute.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>                            <span class="c1"># ID of the Asset whose action the event represents.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_finish_cycle</span><span class="p">,</span>                 <span class="c1"># The action to be executed (a function/callable).</span>
        <span class="n">EventType</span><span class="o">.</span><span class="n">FINISH_PROCESSING</span><span class="p">,</span>        <span class="c1"># Event type.</span>
        <span class="sa">f</span><span class="s1">&#39;By </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span>                   <span class="c1"># String with additional debugging information.</span>
    <span class="p">)</span>
</pre></div>
</div>
</section>
<section id="group-class">
<h2>Group Class<a class="headerlink" href="#group-class" title="Link to this heading"></a></h2>
<p>Group class allows one or more connected part handlers to be bundled together in order to use those same part handlers multiple times in the same model.</p>
<a class="reference internal image-reference" href="_images/group_inner_workings.jpg"><img alt="group_inner_workings.jpg" src="_images/group_inner_workings.jpg" style="width: 800px;" /></a>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="code_introduction.html" class="btn btn-neutral float-left" title="Code Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>